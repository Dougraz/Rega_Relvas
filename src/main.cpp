/**
 * ------------------------------------------------------------------------------------------------
 * ESP8266 Sprinkler System with Website Based Configuration
 * ------------------------------------------------------------------------------------------------
 * Author: Diogo Ribeiro ( https://github.com/ )
 */

// ------------------------------------------------------------------------------------------------
// Include section
// ------------------------------------------------------------------------------------------------

#include "rtcHelper.h"
#include "wifiHelper.h"
#include "webHelper.h"
#include "sprinklerHelper.h"
#include <LibPrintf.h>

// ------------------------------------------------------------------------------------------------
// Initialization
// ------------------------------------------------------------------------------------------------

void setup()
{
  Serial.begin(115200);
  printf("Running setup...\n");

  wifi::initWifi();
  rtc::initRTC();
  websocket::initWebSocket();
  sprinkler::initValves();
}

// ------------------------------------------------------------------------------------------------
// Main control loop
// ------------------------------------------------------------------------------------------------

void loop()
{
  sprinkler::sprinkle();
}